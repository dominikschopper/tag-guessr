<!doctype html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport"
          content="width=device-width, user-scalable=yes, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>HTML guessing game</title>

    <link rel="stylesheet" href="styles/reset.css" />
    <link rel="stylesheet" href="styles/style.css" />
</head>
<body>
    <header class="container header">

        <hgroup>
            <h1 class="page-title">Tag Guessr</h1>
            <p class="page-subline">How many html tags do you know?</p>
        </hgroup>

        <nav>
            <ul role="menu"  class="navigation-list">
                <li role="menuitem" class="navigation-entry">
                    <a class="navigation-link" href="#simple">Simple Version</a>
                </li>
                <li role="menuitem" class="navigation-entry">
                    <a class="navigation-link" href="#timed-90s">90s Version</a>
                </li>
                <li role="menuitem" class="navigation-entry">
                    <a class="navigation-link" href="#timed-60s">60s Version</a>
                </li>
            </ul>
        </nav>

    </header>

    <main class="container page-content">

        <section class="explanation collapsible"
                 id="collapsible-1"
                 aria-labelledby="game-explanation-title"
                 aria-expanded="false"
        >
            <h2 class="explanation-title collapsible-header" id="game-explanation-title">
                A short explanation of the game
                <button aria-controls="collapsible-content"><span class="sr-only">show explanation</span></button>
            </h2>
            <div class="collapsible-content" id="collapsible-content">
                <p>
                    This game is about checking how many of the different HTML tags do you know.<br/>
                    Just fill in a tag name (case doesn't matter) and hit enter or click the button.
                    Every correct tag name will be counted, along with the time after you entered the first tag.
                    there are <span data-template="alltags.length"></span> of tags you could know.
                </p>
                <p>
                    When you are done hit the end game button. At the moment there is no way to save your time
                    or amount of tags you remembered! So maybe it will be added in the future.
                </p>
            </div>
        </section>

        <section aria-label="the game" id="the-game" class="game">
            <h3>The Game</h3>
            <form action="#guess-form" id="guess-form">
                <fieldset>
                    <legend>guess</legend>

                    <div class="two-cols">
                        <div>
                            <label for="guessed-tag">
                                Enter a valid HTML tag:<br/>
                                <input type="text" value="" name="guess" id="guessed-tag" autocomplete="off" placeholder="enter a valid html tag">
                            </label>
                            <button type="submit">guess a tag</button>
                        </div>
                        <p class="guess-error" aria-live="polite" id="tag-error"></p>
                    </div>
                </fieldset>

            </form>

            <form action="#game-form" id="game-form">
                <fieldset>
                    <legend>end/reset game</legend>

                    <button type="submit">end the game</button>
                    <button type="reset">start from fresh</button>
                </fieldset>
            </form>

            <div class="two-cols">

                <label for="no-guessed-tags">
                    Number of correctly guessed tags:<br/>
                    <input type="number" id="no-guessed-tags" class="number-3digs" value="0" readonly maxlength="3" /> of <span data-template="alltags.length"></span>
                </label>

                <label for="no-wrong-tags">
                    Number of incorrectly guessed tags:<br/>
                    <input type="number" id="no-wrong-tags" class="number-3digs" value="0" readonly maxlength="3" />
                </label>
            </div>

            <div class="result">
                <hgroup class="result-header">
                    <h3>Results</h3>
                    <p>Game runs since
                        <span id="game-timer" class="game-timer">0s</span>
                    </p>
                </hgroup>
                <p id="resultlist-explanation">
                    correctly guessed tags will be shown here (in the order they were entered):
                    <ul class="resultlist" id="correctly-guessed-tags" aria-labelledby="resultlist-explanation" aria-live="polite"></ul>
                </p>
                <div>
                    and the tags you missed were:
                    <ul class="resultlist" id="unmentioned-tags" aria-labell="these were the tags you did not enter into the game" aria-live="polite" aria-hidden="true"></ul>
                </div>
            </div>
        </section>

    </main>

    <script>
        const coll = document.getElementById('collapsible-1');
        coll.addEventListener('click', function () {
            this.setAttribute('aria-expanded', `${this.getAttribute('aria-expanded') === 'false'}`);
        });
    </script>

    <script>
        const guessForm = document.getElementById('guess-form')
        guessForm.addEventListener('submit', (ev) => {
            console.log('SUBMIT!!', ev);
        })
        const gameForm = document.getElementById('game-form')
    </script>

    <script>

    </script>

    <footer class="container footer">
        <p>
            this game is a shameless copy of Paul Fosters HTML Tags Memory Test that i created for pure fun, after i heard a conference talk of
            <a rel="noopener noreferrer" target="_blank" href="https://www.youtube.com/watch?v=W4SN8G0q3Vk">Manuel MatuzoviÄ‡ on youtube</a>
            and finding out, that Paul Fosters Game is not working completely anymore.
        </p>
        <p>
            If you find this game funny, share - otherwise go somewhere else and have fun there ;)
            My name is Dominik Schopper and i did my best to make it as accessible as possible ... hope i did well enough for
            you to enjoy
        </p>
    </footer>
    <script type="module" src="ts/app.ts"></script>
</body>
</html>